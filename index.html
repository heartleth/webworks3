<!DOCTYPE html>
<html>
    <head>
        <title>적절~한 테스트</title>
        <meta charset="UTF-8">
        <style>

        </style>
    </head>
    <body>
        <div id = 'all'>
            <h1 id = "question">Q. 당신의 이상형은?</h1>
                <div id = "ops">
                    <input type="button" onclick="prog(0)" value="asdf">
                    <input type="button" onclick="prog(1)" value="asdf">
                    <input type="button" onclick="prog(2)" value="asdf">
                    <input type="button" onclick="prog(3)" value="asdf">
                </div>
                <p id = 'asdf'></p>
        </div>
        <script>
            var progress = 0;
            const questions = 5;
            var percentage = [0, 0, 0, 0];
            var list = [];
            const cases = [
                {title:`당신은 천재적인 유형!`
                ,script:`당신은 상위 0.1%의 천재적인 인물! 축하드립니다! 당신은 수학, 과학, 영어 등 모든 과목을 잘 하는 사람입니다!`
                },
                {title:`당신은 재미있는 유형!`
                ,script:`당신은 상위 0.1%의 재미난 인물! 축하드립니다! 당신은 지인들에게 인기가 많은 사람입니다!`
                },
                {title:`당신은 감성적인 유형!`
                ,script:`당신은 상위 0.1%의 감성적인 인물! 축하드립니다! 당신은 감성으로 친구들과 공감대를 잘 형성하며, 인기 또한 많습니다!`
                },
                {title:`당신은 이성적인 유형!`
                ,script:`당신은 상위 0.1%의 이성적인 인물! 축하드립니다! 당신은 어떤 상황에도 당황하지 않는 분이시고, 이를 통해 많은 고비를 헤쳐나갈 수 있습니다!`
                }
            ];
            const questionlist = 
                `당신은 공부를 어떤 방식으로 하시나요?
당신이 좋아하는 과목은?
당신은 벚꽃을 보고 어떤 생각을 합니까?
당신의 연애 경험은?
테스트가 종료되었습니다.`;
            const ids = 
                `옵션1-1!옵션1-2!옵션1-3!옵션1-4
옵션2-1!옵션2-2!옵션2-3!옵션2-4
옵션3-1!옵션3-2!옵션3-3!옵션3-4
옵션4-1!옵션4-2!옵션4-3!옵션4-4
옵션5-1!옵션5-2!옵션5-3!옵션5-4`;

            function judge(){
                for(var i = 0;i < questions; i++) {
                    percentage[list[i]] += 100 / questions;
                }
            }
            function reload(){
                document.getElementById('all').innerHTML = `
                <h1>${cases[1].title}</h1>
                <h3>${cases[1].script}</h3>
                `
            }
            function prog(i){
                console.log('asdf');
                console.log(i + '/' +progress);
                document.getElementById('ops').children[0].setAttribute('value', ids.split('\n')[progress].split('!')[0]);
                document.getElementById('ops').children[1].setAttribute('value', ids.split('\n')[progress].split('!')[1]);
                document.getElementById('ops').children[2].setAttribute('value', ids.split('\n')[progress].split('!')[2]);
                document.getElementById('ops').children[3].setAttribute('value', ids.split('\n')[progress].split('!')[3]);
                document.getElementById('question').innerText = questionlist.split('\n')[progress];
                list.push(i);
                progress += 1;
                console.log(progress);
                if(progress == 5){
                    judge();
                    reload();
                }
            }
        </script>
    </body>
</html>